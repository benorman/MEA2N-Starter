<div *ngIf="raceVenues" class="container">
    <div class="row">
        <div class="white col-xs-12 col-sm-12 col-md-12 col-lg-12" *ngFor="let raceVenue of raceVenues">
            <!--<p> {{raceVenue | json}}</p> -->
            <div class="raceVenue" [ngStyle]="{'height':raceVenue.show?'600px':'auto'}">
                <div class="racePicture">
                    <img class="racelogoPicture" src={{raceVenue.image}}>
                </div>
                <div class="raceText">
                    <ul>
                        <li><h4 [ngStyle]="{'font-size':raceVenue.title.length<22?'18px':'12px'}">
                            {{raceVenue.title}}</h4></li>
                        <li><h5>{{raceVenue.eventType}}</h5></li>
                        <li><h5>{{raceVenue.date}}</h5></li>
                        <button (click)="raceVenue.show==false?raceVenue.show=true:raceVenue.show=false"
                                class="pull-right btn btn-default btn-lg">
                            <span *ngIf="raceVenue.show" class="glyphicon glyphicon-menu-up"></span>
                            <span *ngIf="!raceVenue.show" class="glyphicon glyphicon-menu-down"></span>
                        </button>
                    </ul>
                    <br/><br/><br/>

                </div>
                <div *ngIf="raceVenue.show" class="container">
                    <ul class="align-left raceVenueInfo row">
                        <br/>
                        <!--
                        <li>Location: <a href={{race.location}}>Open in Maps</a></li>
                        TODO: make location open in maps for phone and google directions for web -->
                        <li><p><strong>Race Description:</strong></p>
                           This is an {{raceVenue.eventType}}
                            <span *ngIf="raceVenue.isMultiLapEvent"> with multiple laps</span>
                            <span *ngIf="raceVenue.hasCompetativeLap">
                                <span *ngIf="raceVenue.isMultiLapEvent"> and also</span>
                                <span *ngIf="!raceVenue.isMultiLapEvent"> which </span>
                                has a competitive lap. </span>
                        </li>
                        <br/>
                        <li><strong>Visit Them: </strong><a target="_blank" href='{{raceVenue.website}}'>{{raceVenue.title}}'s Website</a></li>
                        <br/>
                        <li><strong>Address: </strong> <a href='#'>{{raceVenue.address}}</a></li>
                        <br/>
                        <li *ngIf="!raceVenue.isNonOCREvent"><strong>Course Length:</strong> {{raceVenue.milesPerLap}}
                            miles
                        </li>
                    </ul>
                    <div *ngIf="raceVenue.isNonOCREvent && raceVenue.show" class="nonOCREvents">
                        <ul *ngFor="let nonOcrEvent of raceVenue.nonOCREvents">
                            <li><strong>Race: </strong>{{nonOcrEvent.name}}</li>
                        </ul>

                        <div class="row">
                            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 raceText">
                                <select #selectedEvent class="custom-select form-control ">
                                    <option selected value="none">Pick your event</option>
                                    <option *ngFor="let nonOcrEvent of raceVenue.nonOCREvents"
                                            value="{{nonOcrEvent.name}}">
                                        {{nonOcrEvent.name}}, {{nonOcrEvent.miles}} miles long
                                    </option>
                                </select>
                            </div>
                            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                <button class="btn btn-primary" (click)="this.logNonOCREvent(raceVenue, selectedEvent.value)">I Ran It!</button>
                                Value is: {{selectedEvent.value}}
                            </div>
                        </div>

                    </div>
                    <div *ngIf="raceVenue.show" class="container">
                        <div class="row" *ngIf="raceVenue.isMultiLapEvent">
                            <h4> I ran {{this.lapCount}} laps!!</h4>
                        </div>
                        <div class="row">
                            <div class="col-xs-6 col-sm-6">
                                <laplogger *ngIf="raceVenue.show && raceVenue.isMultiLapEvent"
                                           [lapCount]="this.lapCount"
                                           (countChange)="countChange($event)"></laplogger>
                            </div>
                            <div class="col-xs-6 col-sm-6" *ngIf="raceVenue.isMultiLapEvent">
                                <button class="btn btn-primary" >Log These Laps!</button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>
